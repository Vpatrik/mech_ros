<launch>

  <arg name="twist_mux_config" default="$(find mech_ros)/control/twist_mux.yaml"/>
  <arg name="twist_mux_cmd_vel_topic" default="/cmd_vel"/>

 <!-- Marker detection -->
  <!-- <node pkg="mech_ros" type="Aruco_detect.py" name="Aruco_detector"/> -->

<!-- Marker localization -->
  <!-- <node pkg="mech_ros" type="marker_tr_publish_real.py" name="Marker_localization"/> -->



<!-- IMU -->
  <!-- <node pkg="mech_ros" type="IMU_from_raw.py" name="converter" output="screen">
      <param name="calibrate_imu" value="False" />
      <param name="samples_number" value="1000" />
      <param name="calibrations_file" value="$(find mech_ros)/localization/IMU_calibration.yaml" />

  </node> -->

<!-- IMU Madgwick fusion -->
<!-- <node name="imu_filter_node" pkg="imu_filter_madgwick" type="imu_filter_node" output="screen">
    <param name="world_frame" value="nwu" />
    <param name="use_magnetic_field_msg" value="false" />
    <param name="use_mag" value="true" />
    <param name="gain" value="0.08" />
    <param name="zeta" value="0.002" />
    <param name="orientation_stddev" value="0.3" />
    <param name="fixed_frame" value="imu_link" />
    <param name="publish_tf" value="false" />
</node> -->


 <!-- joy node -->
  <node respawn="true" pkg="joy"
        type="joy_node" name="twist_joy" >
    <param name="dev" type="string" value="/dev/input/js0" />
    <param name="deadzone" value="0.01" />
    <param name="autorepeat_rate" value="30" />
  </node>

 <!-- Axes -->
  <node pkg="mech_ros" type="Teleop.py" name="teleop"/>

    <!-- Twist mux -->
  <node pkg="twist_mux" type="twist_mux" name="twist_mux" output="screen">
    <rosparam file="$(arg twist_mux_config)" command="load"/>
    <remap from="/cmd_vel_out" to="$(arg twist_mux_cmd_vel_topic)"/>
  </node>


 <!-- Measurement - board -->
  <!-- <node pkg="mech_ros" type="Aruco_board_pose.py" name="board_detector"/> -->


 <!-- Kinematics -->
  <!-- <node pkg="mech_ros" type="Kinematics.py" name="kinematics"/> -->

<!-- Rosbag recording -->
    <!-- <node pkg="rosbag" type="record" name="rosbag_record"
        args=" record -o $(find mech_ros)/bag_files/Mereni_madgwick/draha_stale_rychlosti_primka -a"/> -->


</launch>